"use strict";(self.webpackChunkseata_website=self.webpackChunkseata_website||[]).push([[65512],{6755:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var t=r(74848),i=r(28453);const a={Title:"Seata Namingserver Registration Center",Keywords:["Seata","Namingserver"],Description:"Namingserver registration center."},s="Namingserver Registration Center",o={id:"user/registry/namingserver",title:"Namingserver Registration Center",description:"Namingserver is the native registration center of Seata.",source:"@site/i18n/en/docusaurus-plugin-content-docs/version-v2.2/user/registry/namingserver.md",sourceDirName:"user/registry",slug:"/user/registry/namingserver",permalink:"/docs/user/registry/namingserver",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/incubator-seata-website/blob/docusaurus/i18n/en/docusaurus-plugin-content-docs/version-v2.2/user/registry/namingserver.md",tags:[],version:"v2.2",frontMatter:{Title:"Seata Namingserver Registration Center",Keywords:["Seata","Namingserver"],Description:"Namingserver registration center."},sidebar:"docs",previous:{title:"Zookeeper Registry Center",permalink:"/docs/user/registry/zookeeper"},next:{title:"Api Guide",permalink:"/docs/user/api"}},c={},l=[{value:"Preparations",id:"preparations",level:2},{value:"Running the naming server in the compiler",id:"running-the-naming-server-in-the-compiler",level:3},{value:"Running the naming server in the compiler",id:"running-the-naming-server-in-the-compiler-1",level:3},{value:"Running Naming Server",id:"running-naming-server",level:3},{value:"Getting Started Quickly",id:"getting-started-quickly",level:2},{value:"Client-side Configuration for the Registration Center",id:"client-side-configuration-for-the-registration-center",level:3},{value:"Server-side Configuration for the Registration Center",id:"server-side-configuration-for-the-registration-center",level:3},{value:"Create a Mapping Between the Client&#39;s Transaction Group and the Seata Cluster",id:"create-a-mapping-between-the-clients-transaction-group-and-the-seata-cluster",level:3},{value:"Change the Mapping Between the Client&#39;s Transaction Group and the Seata Cluster",id:"change-the-mapping-between-the-clients-transaction-group-and-the-seata-cluster",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"namingserver-registration-center",children:"Namingserver Registration Center"}),"\n",(0,t.jsx)(n.p,{children:"Namingserver is the native registration center of Seata."}),"\n",(0,t.jsx)(n.h2,{id:"preparations",children:"Preparations"}),"\n",(0,t.jsx)(n.p,{children:"You can choose to run the naming server in the compiler or after packaging it."}),"\n",(0,t.jsx)(n.h3,{id:"running-the-naming-server-in-the-compiler",children:"Running the naming server in the compiler"}),"\n",(0,t.jsx)(n.p,{children:"Go to the namingserver directory, set the port number for the naming server in resources/application.yml, and start the naming server."}),"\n",(0,t.jsx)(n.h3,{id:"running-the-naming-server-in-the-compiler-1",children:"Running the naming server in the compiler"}),"\n",(0,t.jsx)(n.p,{children:"Go to the namingserver directory, set the port number for the naming server in resources/application.yml, and start the naming server."}),"\n",(0,t.jsx)(n.h3,{id:"running-naming-server",children:"Running Naming Server"}),"\n",(0,t.jsxs)(n.p,{children:["Download the Seata 2.2.0 binary package from the ",(0,t.jsx)(n.a,{href:"https://seata.apache.org/unversioned/download/seata-server/",children:"link"})," and unzip it. Then, enter the seata-namingserver directory."]}),"\n",(0,t.jsx)(n.p,{children:"In the conf/application.yml file, configure the port number for starting the naming server."}),"\n",(0,t.jsx)(n.p,{children:"For Mac or Linux, run:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"bin/seata-namingserver.sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"For Windows, run:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"bin/seata-namingserver.bat\n"})}),"\n",(0,t.jsx)(n.h2,{id:"getting-started-quickly",children:"Getting Started Quickly"}),"\n",(0,t.jsx)(n.p,{children:"The process to use the naming server as Seata's registration center is very simple and involves configuring both the client and server sides."}),"\n",(0,t.jsx)(n.h3,{id:"client-side-configuration-for-the-registration-center",children:"Client-side Configuration for the Registration Center"}),"\n",(0,t.jsx)(n.p,{children:"Add the corresponding registration center in the application.yml:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"seata:\n  registry:\n    type: seata\n  seata:\n    server-addr: 127.0.0.1:8081   ## IP + port of the naming server configured in the first step. Use commas to separate multiple naming server nodes.\n    namespace: public  ## Namespace\n    heartbeat-period: 5000  ## Heartbeat interval\n"})}),"\n",(0,t.jsx)(n.h3,{id:"server-side-configuration-for-the-registration-center",children:"Server-side Configuration for the Registration Center"}),"\n",(0,t.jsxs)(n.p,{children:["Add the following configuration to ",(0,t.jsx)(n.code,{children:"conf/application.yaml"}),", with the rest of the configuration referring to configuration options:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"seata:\n  registry:\n    type: seata\n  seata:\n    server-addr: 127.0.0.1:8081   ## IP + port of the naming server configured in the first step. Use commas to separate multiple naming server nodes.\n    cluster: default  ## Cluster name\n    namespace: public  ## Namespace\n    heartbeat-period: 5000  ## Heartbeat interval\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-a-mapping-between-the-clients-transaction-group-and-the-seata-cluster",children:"Create a Mapping Between the Client's Transaction Group and the Seata Cluster"}),"\n",(0,t.jsx)(n.p,{children:"Send an HTTP request to one naming server node to create a transaction group-to-cluster mapping (the naming server node will automatically synchronize with other nodes):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"http://127.0.0.1:8081/naming/v1/addGroup?clusterName=cluster2&namespace=public&unitName&vGroup=my_test_tx_group\n"})}),"\n",(0,t.jsx)(n.p,{children:"(In this, namespace is the namespace configured on the client side, vGroup is the transaction group configured on the client side, and clusterName is the cluster name on the server side that needs to be mapped.)"}),"\n",(0,t.jsx)(n.h3,{id:"change-the-mapping-between-the-clients-transaction-group-and-the-seata-cluster",children:"Change the Mapping Between the Client's Transaction Group and the Seata Cluster"}),"\n",(0,t.jsx)(n.p,{children:"Send an HTTP request to one naming server node to change the transaction group-to-cluster mapping (the naming server node will automatically synchronize with other nodes):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"http://127.0.0.1:8081/naming/v1/changeGroup?clusterName=cluster2&namespace=public&unitName&vGroup=my_test_tx_group\n"})}),"\n",(0,t.jsx)(n.p,{children:"(In this, namespace is the namespace configured on the client side, vGroup is the transaction group configured on the client side, and clusterName is the cluster name on the server side that needs to be mapped.)"}),"\n",(0,t.jsx)(n.p,{children:"Afterward, once Seata-Server is started and the client configuration is complete, you can begin to experience Seata services."}),"\n",(0,t.jsx)(n.p,{children:"Tips:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"1.Please ensure that the client and server are registered under the same namespace; otherwise, the service will not be found."}),"\n",(0,t.jsx)(n.li,{children:"2.Note that the naming server is only allowed to be used in a private network; do not expose it to the public environment."}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>o});var t=r(96540);const i={},a=t.createContext(i);function s(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);